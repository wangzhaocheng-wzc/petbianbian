import{u as e,a,j as r}from"./index-379b094b.js";import{r as t}from"./react-vendor-7927b0b6.js";import{u as s}from"./usePets-2d4c1e5f.js";import{P as l,a0 as d}from"./ui-vendor-f43192ea.js";import"./router-2b5ad94b.js";import"./utils-2ce30174.js";import"./api-f70ec57c.js";function n(){const[n,i]=t.useState("pets"),{user:c,isLoading:m}=e(),{pets:o,loading:g}=s();if(m)return a("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r("div",{className:"text-center",children:[a("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),a("p",{className:"text-gray-600",children:"加载中..."})]})});if(!c)return a("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a("div",{className:"text-center",children:a("p",{className:"text-gray-600",children:"无法获取用户信息"})})});return r("div",{className:"max-w-4xl mx-auto space-y-6",children:[r("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[r("div",{className:"flex items-center space-x-4",children:[a("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center text-3xl",children:c.avatar||"👤"}),r("div",{className:"flex-1",children:[a("h1",{className:"text-2xl font-bold text-gray-900",children:c.username}),a("p",{className:"text-gray-600",children:c.email}),r("p",{className:"text-sm text-gray-500",children:["加入时间：",(x=c.createdAt,new Date(x).toLocaleDateString("zh-CN"))]})]}),r("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[a(l,{className:"w-4 h-4 mr-2"}),"编辑资料"]})]}),r("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[r("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a("div",{className:"text-2xl font-bold text-orange-600",children:c.stats.totalAnalysis}),a("div",{className:"text-sm text-gray-600",children:"分析次数"})]}),r("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a("div",{className:"text-2xl font-bold text-orange-600",children:o.length}),a("div",{className:"text-sm text-gray-600",children:"宠物数量"})]}),r("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a("div",{className:"text-2xl font-bold text-orange-600",children:c.stats.totalPosts}),a("div",{className:"text-sm text-gray-600",children:"社区发帖"})]})]})]}),r("div",{className:"bg-white rounded-lg shadow-sm",children:[a("div",{className:"border-b border-gray-200",children:a("nav",{className:"-mb-px flex space-x-8 px-6",children:[{id:"pets",name:"我的宠物"},{id:"settings",name:"账户设置"}].map(e=>a("button",{onClick:()=>i(e.id),className:"py-4 px-1 border-b-2 font-medium text-sm "+(n===e.id?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.name},e.id))})}),r("div",{className:"p-6",children:["pets"===n&&r("div",{className:"space-y-4",children:[r("div",{className:"flex justify-between items-center",children:[a("h2",{className:"text-lg font-medium text-gray-900",children:"我的宠物"}),r("button",{className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700",children:[a(d,{className:"w-4 h-4 mr-2"}),"添加宠物"]})]}),g?r("div",{className:"text-center py-8",children:[a("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-4"}),a("p",{className:"text-gray-600",children:"加载宠物信息中..."})]}):0===o.length?r("div",{className:"text-center py-8",children:[a("p",{className:"text-gray-600 mb-4",children:"您还没有添加宠物"}),r("button",{className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700",children:[a(d,{className:"w-4 h-4 mr-2"}),"添加第一只宠物"]})]}):a("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(e=>r("div",{className:"border border-gray-200 rounded-lg p-4",children:[r("div",{className:"flex items-center space-x-3",children:[a("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:e.avatar?a("img",{src:e.avatar,alt:e.name,className:"w-12 h-12 rounded-full object-cover"}):a("span",{className:"text-2xl",children:"dog"===e.type?"🐕":"cat"===e.type?"🐱":"🐾"})}),r("div",{className:"flex-1",children:[a("h3",{className:"text-lg font-medium text-gray-900",children:e.name}),r("p",{className:"text-sm text-gray-600",children:[e.breed||"未知品种"," · ",e.age?`${Math.floor(e.age/12)}岁`:"年龄未知"]})]}),a("button",{className:"text-gray-400 hover:text-gray-600",children:a(l,{className:"w-4 h-4"})})]}),r("div",{className:"mt-3 grid grid-cols-2 gap-4 text-sm",children:[r("div",{children:[a("span",{className:"text-gray-500",children:"类型："}),a("span",{className:"text-gray-900 capitalize",children:e.type})]}),r("div",{children:[a("span",{className:"text-gray-500",children:"体重："}),a("span",{className:"text-gray-900",children:e.weight?`${e.weight}kg`:"未知"})]})]})]},e.id))})]}),"settings"===n&&r("div",{className:"space-y-6",children:[a("h2",{className:"text-lg font-medium text-gray-900",children:"账户设置"}),r("div",{className:"space-y-4",children:[r("div",{children:[a("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"用户名"}),a("input",{type:"text",defaultValue:c.username,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500"})]}),r("div",{children:[a("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"邮箱"}),a("input",{type:"email",defaultValue:c.email,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500"})]}),r("div",{children:[a("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"密码"}),a("input",{type:"password",placeholder:"••••••••",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500"})]}),a("div",{className:"pt-4",children:a("button",{className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700",children:"保存设置"})})]})]})]})]})]});var x}export{n as default};
